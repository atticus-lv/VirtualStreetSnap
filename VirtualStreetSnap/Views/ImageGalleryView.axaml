<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewModels="clr-namespace:VirtualStreetSnap.ViewModels"
             xmlns:views="clr-namespace:VirtualStreetSnap.Views"
             mc:Ignorable="d" d:DesignWidth="1280" d:DesignHeight="720"
             x:Class="VirtualStreetSnap.Views.ImageGalleryView"
             x:DataType="viewModels:ImageGalleryViewModel">

    <UserControl.DataContext>
        <viewModels:ImageGalleryViewModel />
    </UserControl.DataContext>

    <Grid RowDefinitions="*,Auto" Background="#111111">
        <Border Grid.Row="0" CornerRadius="5" Padding="2">
            <ContentControl Content="{Binding SelectedImageViewer}" />
            <!--     <Panel> -->
        <!--         ~1~ Selected Image Display @1@ -->
        <!--         <TextBlock Text="{DynamicResource My.Lang.SelectanImage}" HorizontalAlignment="Center" -->
        <!--                    VerticalAlignment="Center" /> -->
        <!--         <Viewbox x:Name="ImageViewbox" Stretch="Uniform" -->
        <!--                  PointerPressed="ImageViewbox_PointerPressed" -->
        <!--                  PointerReleased="ImageViewbox_PointerReleased" -->
        <!--                  PointerMoved="ImageViewbox_PointerMoved"> -->
        <!--             <Image Source="{Binding SelectedThumbnail.Image}" /> -->
        <!--             <Viewbox.ContextMenu> -->
        <!--                 <ContextMenu> -->
        <!--                     <MenuItem Click="OnShowColorPicker_Click"> -->
        <!--                         <MenuItem.Header> -->
        <!--                             <StackPanel Orientation="Horizontal" Spacing="5"> -->
        <!--                                 <PathIcon Data="{StaticResource ColorRegular}"></PathIcon> -->
        <!--                                 <TextBlock VerticalAlignment="Center" -->
        <!--                                            Text="{DynamicResource My.Lang.PickColor}" /> -->
        <!--                             </StackPanel> -->
        <!--                         </MenuItem.Header> -->
        <!--                     </MenuItem> -->
        <!--                     <Separator></Separator> -->
        <!--                     <MenuItem Click="OnFlipHorizontally_Click"> -->
        <!--                         <MenuItem.Header> -->
        <!--                             <StackPanel Orientation="Horizontal" Spacing="5"> -->
        <!--                                 <PathIcon Data="{StaticResource FlipHorizontalRegular}" /> -->
        <!--                                 <TextBlock VerticalAlignment="Center" -->
        <!--                                            Text="{DynamicResource My.Lang.FlipHorizontally}" /> -->
        <!--                             </StackPanel> -->
        <!--                         </MenuItem.Header> -->
        <!--                     </MenuItem> -->
        <!--                     <MenuItem Click="OnFlipVertically_Click"> -->
        <!--                         <MenuItem.Header> -->
        <!--                             <StackPanel Orientation="Horizontal" Spacing="5"> -->
        <!--                                 <PathIcon Data="{StaticResource FlipVerticalRegular}" /> -->
        <!--                                 <TextBlock VerticalAlignment="Center" -->
        <!--                                            Text="{DynamicResource My.Lang.FlipVertically}" /> -->
        <!--                             </StackPanel> -->
        <!--                         </MenuItem.Header> -->
        <!--                     </MenuItem> -->
        <!--                     <MenuItem Click="OnResetImageViewBox_Click"> -->
        <!--                         <MenuItem.Header> -->
        <!--                             <StackPanel Orientation="Horizontal" Spacing="5"> -->
        <!--                                 <PathIcon Data="{StaticResource ArrowRotateLeftRegular}" /> -->
        <!--                                 <TextBlock VerticalAlignment="Center" -->
        <!--                                            Text="{DynamicResource My.Lang.ResetZoom}" /> -->
        <!--                             </StackPanel> -->
        <!--                         </MenuItem.Header> -->
        <!--                     </MenuItem> -->
        <!--                     <Separator></Separator> -->
        <!--                     <MenuItem Command="{Binding CopySelectedImage}"> -->
        <!--                         <MenuItem.Header> -->
        <!--                             <StackPanel Orientation="Horizontal" Spacing="5"> -->
        <!--                                 <PathIcon Data="{StaticResource ImageCopyRegular}" /> -->
        <!--                                 <TextBlock VerticalAlignment="Center" -->
        <!--                                            Text="{DynamicResource My.Lang.CopyImage}" /> -->
        <!--                             </StackPanel> -->
        <!--                         </MenuItem.Header> -->
        <!--                     </MenuItem> -->
        <!--                 </ContextMenu> -->
        <!--             </Viewbox.ContextMenu> -->
        <!--         </Viewbox> -->
        <!--         ~1~ image info @1@ -->
        <!--         <PathIcon Data="{StaticResource InfoRegular}" VerticalAlignment="Top" HorizontalAlignment="Left" -->
        <!--                   Margin="10" Width="30" Height="30" Opacity="0.3" -->
        <!--                   ToolTip.Placement="RightEdgeAlignedTop"> -->
        <!--             <ToolTip.Tip> -->
        <!--                 <StackPanel Margin="2" Spacing="2"> -->
        <!--                     <TextBlock Text="{Binding SelectedThumbnail.ImgName}" /> -->
        <!--                     <TextBlock Text="{Binding SelectedThumbnail.ImgDir}" Foreground="Gray" /> -->
        <!--                     <TextBlock Text="{Binding SelectedThumbnail.ImgSize}" Foreground="Gray" /> -->
        <!--                 </StackPanel> -->
        <!--             </ToolTip.Tip> -->
        <!--         </PathIcon> -->
        <!--         ~1~ tool button @1@ -->
        <!--         <StackPanel VerticalAlignment="Bottom" Background="Transparent" Orientation="Horizontal" Height="30" -->
        <!--                     Opacity="0.7"> -->
        <!--             <Button Command="{Binding ToggleThumbnailBar}"> -->
        <!--                 <PathIcon Data="{StaticResource ArrowMaximizeVerticalRegular}" /> -->
        <!--             </Button> -->
        <!--             <Button Height="30" Command="{Binding ReLoadThumbnails}"> -->
        <!--                 <PathIcon Data="{StaticResource ApprovalsAppRegular}"></PathIcon> -->
        <!--             </Button> -->
        <!--         </StackPanel> -->
        <!-- -->
        <!--         <Button Command="{Binding SelectPreviousThumbnail}" -->
        <!--                 Content="←" FontSize="24" Opacity="0.5" Margin="10" Height="50" -->
        <!--                 VerticalContentAlignment="Center" -->
        <!--                 VerticalAlignment="Center" HorizontalAlignment="Left" /> -->
        <!--         <Button Command="{Binding SelectNextThumbnail}" -->
        <!--                 Content="→" FontSize="24" Opacity="0.5" Margin="10" Height="50" -->
        <!--                 VerticalContentAlignment="Center" -->
        <!--                 VerticalAlignment="Center" HorizontalAlignment="Right" /> -->
        <!-- -->
        <!-- -->
        <!--         ~1~ color picker @1@ -->
        <!--         <Canvas IsVisible="{Binding ShowColorPicker}"> -->
        <!--             <Border Name="ColoPickerPanel" Canvas.Left="300" Canvas.Top="200" -->
        <!--                     Background="#111111" CornerRadius="4" IsHitTestVisible="False"> -->
        <!--                 <Border.Effect> -->
        <!--                     <DropShadowEffect Color="Black" BlurRadius="3" Opacity="1" OffsetX="0" OffsetY="0" /> -->
        <!--                 </Border.Effect> -->
        <!--                 <StackPanel Margin="10 5 5 5" Spacing="10" HorizontalAlignment="Left" Orientation="Horizontal"> -->
        <!--                     <Rectangle Name="ColorPickerRect" Fill="Aqua" Width="40" Height="40" RadiusX="4" -->
        <!--                                RadiusY="4" /> -->
        <!--                     <StackPanel VerticalAlignment="Center"> -->
        <!--                         <TextBlock Name="ColorPickerTextHex" Text="Hex" Foreground="Gainsboro" FontSize="16" /> -->
        <!--                         <TextBlock Name="ColorPickerTextRgb" Text="RGB" Foreground="Gray" FontSize="12" /> -->
        <!--                         <TextBlock Name="ColorPickerTextHsv" Text="HSV" Foreground="Gray" FontSize="12" /> -->
        <!--                     </StackPanel> -->
        <!--                 </StackPanel> -->
        <!--             </Border> -->
        <!--         </Canvas> -->
        <!--     </Panel> -->
        </Border>

        <!-- Thumbnails Display -->
        <ScrollViewer x:Name="ThumbnailsScrollViewer" Grid.Row="1" HorizontalScrollBarVisibility="Auto"
                      VerticalScrollBarVisibility="Disabled"
                      ScrollChanged="ThumbnailsScrollViewer_ScrollChanged"
                      IsVisible="{Binding ShowThumbnailBar}">
            <ListBox ItemsSource="{Binding Thumbnails}"
                     SelectedItem="{Binding SelectedThumbnail}"
                     HorizontalAlignment="Left" Background="#111111"
                     SelectionMode="Single">
                <ListBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="{DynamicResource My.Lang.Delete}" Command="{Binding DeleteSelectedThumbnail}" />
                        <MenuItem Header="{DynamicResource My.Lang.OpenInFolder}"
                                  Command="{Binding OpenSelectedThumbnailFolder}" />
                    </ContextMenu>
                </ListBox.ContextMenu>
                <ListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Horizontal" />
                    </ItemsPanelTemplate>
                </ListBox.ItemsPanel>
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <views:ImageThumbView DataContext="{Binding}" Width="100" Height="100" />
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </ScrollViewer>
    </Grid>
</UserControl>